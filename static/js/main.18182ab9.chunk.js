(this.webpackJsonpnopsagame=this.webpackJsonpnopsagame||[]).push([[0],{103:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(24),o=a.n(i),l=a(20),c=a(27),u=a(41),s=a(5),m=a(4),f=a(77),d=a(52),g=a(17),b=a(11),y=a(106),p=function(e){var t=e.suit,a=e.value,n="black",i="";switch(t){case 2:i="\u2665",n="red";break;case 3:i="\u2663";break;case 4:i="\u2666",n="red";break;default:i="\u2660"}var o=1===a?"A":a;return r.a.createElement(m.a,{style:{justifyContent:"center",alignItems:"center"}},r.a.createElement(f.a,{style:{color:n,fontSize:30}},i),r.a.createElement(f.a,{style:{color:n,fontSize:30}},o))},h=function(e){var t=e.topmostLeft,a=e.topmostRight,n=e.unitWidth,i={position:"absolute",width:n,height:1.7*n,borderRadius:7,zIndex:0},o=""===t?"green":"papayawhip",l=""===a?"green":"papayawhip";return r.a.createElement(m.a,{style:{flexDirection:"row"}},r.a.createElement(m.a,{style:[i,{left:0,top:0,backgroundColor:o}]},""!==t?r.a.createElement(p,{suit:t.suit,value:t.value}):null),r.a.createElement(m.a,{style:[i,{left:1.5*n,top:0,backgroundColor:l}]},""!==a?r.a.createElement(p,{suit:a.suit,value:a.value}):null))},E=a(105),v=a(107),w=function(){return r.a.createElement(m.a,{style:{justifyContent:"center",alignItems:"center"}},r.a.createElement(f.a,{style:{color:"green",fontSize:9}},"\xa9\xa9\xa9\xa9\xa9\xa9\xa9"),r.a.createElement(f.a,{style:{color:"green",fontSize:9}},"\xa9\xa9\xa9\xa9\xa9\xa9\xa9"),r.a.createElement(f.a,{style:{color:"green",fontSize:9}},"\xa9\xa9\xa9\xa9\xa9\xa9\xa9"),r.a.createElement(f.a,{style:{color:"green",fontSize:9}},"\xa9\xa9\xa9\xa9\xa9\xa9\xa9"),r.a.createElement(f.a,{style:{color:"green",fontSize:9}},"\xa9\xa9\xa9\xa9\xa9\xa9\xa9"),r.a.createElement(f.a,{style:{color:"green",fontSize:9}},"\xa9\xa9\xa9\xa9\xa9\xa9\xa9"),r.a.createElement(f.a,{style:{color:"green",fontSize:9}},"\xa9\xa9\xa9\xa9\xa9\xa9\xa9"),r.a.createElement(f.a,{style:{color:"green",fontSize:9}},"\xa9\xa9\xa9\xa9\xa9\xa9\xa9"),r.a.createElement(f.a,{style:{color:"green",fontSize:9}},"\xa9\xa9\xa9\xa9\xa9\xa9\xa9"))},k=function(e,t,a){var n=1.7*t,r=4.1*n,i=a>0?a:0;switch(e){case 0:i+=1/6*t;break;case 1:case 5:i+=(2/6+1)*t;break;case 2:case 6:case 9:i+=2.5*t;break;case 3:case 7:case 10:case 12:i+=(4/6+3)*t;break;default:i+=(5/6+4)*t}var o=0;switch(e){case 14:o=r+.5*n;break;case 12:case 13:o=r+.375*n;break;case 9:case 10:case 11:o=r+.25*n;break;case 5:case 6:case 7:case 8:o=r+.125*n;break;default:o=r}return{x:i,y:o}},S=function(e,t){var a=!1;switch(e){case 0:case 5:case 9:case 12:case 14:a=!0;break;case 1:case 2:case 3:case 4:e+4>t&&(a=!0);break;case 6:case 7:case 8:e+4>t&&(a=!0);break;case 10:case 11:case 13:e+4>t&&(a=!0)}return a},C=function(e){for(var t=[],a=0;a<e;a++)t.push(!1);return t},j=r.a.forwardRef((function(e,t){if(e.isNull)return null;var a=e.unitWidth,i=1.7*a,o=e.card,l=e.index,c=e.origo,u=e.bufferLeft,s=e.topmostGamingRight,f=Object(n.useState)(e.origo),d=Object(b.a)(f,2),h=d[0],S=(d[1],Object(n.useState)(!1)),C=Object(b.a)(S,2),j=C[0],x=C[1],O=Object(n.useState)(new E.a.ValueXY),V=Object(b.a)(O,2),R=V[0],T=(V[1],{transform:[{translateX:R.x},{translateY:R.y}]}),W=new E.a.Value(0),F={transform:[{rotateX:W.interpolate({inputRange:[0,180],outputRange:["180deg","360deg"]})}]},I=new E.a.Value(90),B={transform:[{rotateX:I.interpolate({inputRange:[0,180],outputRange:["180deg","360deg"]})}]},z=function(e){if(e.flip&&!e.move)return E.a.sequence([E.a.timing(W,{toValue:90,tension:10,friction:10,duration:300}),E.a.timing(I,{toValue:180,tension:10,friction:10,duration:300})]).start(),void setTimeout((function(){x(!0)}),1600);var t=e.delay?1:0;e.move&&e.flip?(E.a.sequence([E.a.delay(500*l*t),E.a.timing(R,{toValue:{x:e.x-c.x,y:e.y-c.y},duration:1e3}),E.a.timing(W,{toValue:90,tension:10,friction:10,duration:300}),E.a.timing(I,{toValue:180,tension:10,friction:10,duration:300})]).start(),setTimeout((function(){x(!0)}),1600+500*l*t)):e.move&&e.delay&&E.a.sequence([E.a.delay(500*l),E.a.timing(R,{toValue:{x:e.x-c.x,y:e.y-c.y},duration:1e3})]).start()};Object(n.useImperativeHandle)(t,(function(){return{performAction:z}}));var A=new E.a.ValueXY,G={transform:[{translateX:A.x},{translateY:A.y}]},P=function(t,n){var r=function(e,t,a,n){var r=n+3.25*a,i=n+2.8*a*1.7,o=!1;return e>r&&e<r+a&&t>i&&t<i+1.7*a&&(o=!0),o}(t,n,a,u),c=function(e,t){if(console.log(""),1===e){if(2===t||13===t)return!0}else{if(13!==e)return t===e+1||t===e-1;if(12===t||1===t)return!0}}(s.value,o.value);r&&c?(!function(e,t){var n=3.25*a,r=2.3*i,o=k(l,a,u);E.a.timing(A,{toValue:{x:n-o.x,y:r-o.y},duration:500}).start()}(),setTimeout((function(){e.updateRightGamingPack(l)}),500)):E.a.timing(A,{toValue:{x:0,y:0},duration:500}).start()},X=v.a.create({onStartShouldSetPanResponder:function(e,t){return!0},onPanResponderMove:function(e,t){var a,n;a=t.dx,n=t.dy,E.a.timing(A,{toValue:{x:a,y:n},duration:0}).start()},onPanResponderRelease:function(e,t){P(t.moveX,t.moveY)}}),L=function(){var e={width:a,height:1.7*a,borderRadius:7},t=Object(g.a)({},e,{backgroundColor:"papayawhip"}),n=Object(g.a)({},t,{top:1.7*-a}),i=Object(g.a)({},e,{backgroundColor:"#B9CC3F"});return r.a.createElement(y.a,{disabled:!j},j?r.a.createElement(E.a.View,Object.assign({style:[t,G]},X.panHandlers),r.a.createElement(p,{suit:o.suit,value:o.value})):r.a.createElement(m.a,null,r.a.createElement(E.a.View,{style:[i,F]},r.a.createElement(w,null)),r.a.createElement(E.a.View,{style:[n,B]},r.a.createElement(p,{suit:o.suit,value:o.value}))))};return r.a.createElement(E.a.View,{style:[{position:"absolute",left:h.x,top:h.y},T]},r.a.createElement(L,null))})),x=r.a.forwardRef((function(e,t){if(e.isNull)return null;var a=e.unitWidth,i=e.card,o=e.index,l=e.origo,c=(e.bufferLeft,e.topmostGamingRight,Object(n.useState)(e.origo)),u=Object(b.a)(c,2),s=u[0],f=(u[1],Object(n.useState)(!1)),d=Object(b.a)(f,2),h=d[0],v=d[1],k=Object(n.useState)(new E.a.ValueXY),S=Object(b.a)(k,2),C=S[0],j=(S[1],{transform:[{translateX:C.x},{translateY:C.y}]}),x=new E.a.Value(0),O={transform:[{rotateX:x.interpolate({inputRange:[0,180],outputRange:["180deg","360deg"]})}]},V=new E.a.Value(90),R={transform:[{rotateX:V.interpolate({inputRange:[0,180],outputRange:["180deg","360deg"]})}]},T=function(e){if(e.flip&&!e.move)return E.a.sequence([E.a.timing(x,{toValue:90,tension:10,friction:10,duration:300}),E.a.timing(V,{toValue:180,tension:10,friction:10,duration:300})]).start(),void setTimeout((function(){v(!0)}),1600);var t=e.delay?1:0;e.move&&e.flip?(E.a.sequence([E.a.delay(500*o*t),E.a.timing(C,{toValue:{x:e.x-l.x,y:e.y-l.y},duration:1e3}),E.a.timing(x,{toValue:90,tension:10,friction:10,duration:300}),E.a.timing(V,{toValue:180,tension:10,friction:10,duration:300})]).start(),setTimeout((function(){v(!0)}),1600+500*o*t)):e.move&&e.delay&&E.a.sequence([E.a.delay(500*o),E.a.timing(C,{toValue:{x:e.x-l.x,y:e.y-l.y},duration:1e3})]).start()};Object(n.useImperativeHandle)(t,(function(){return{performAction:T}}));var W=function(){var e={width:a,height:1.7*a,borderRadius:7},t=Object(g.a)({},e,{backgroundColor:"papayawhip"}),n=Object(g.a)({},t,{top:1.7*-a}),o=Object(g.a)({},e,{backgroundColor:"#B9CC3F"});return r.a.createElement(y.a,{disabled:!h},h?r.a.createElement(E.a.View,{style:[t]},r.a.createElement(p,{suit:i.suit,value:i.value})):r.a.createElement(m.a,null,r.a.createElement(E.a.View,{style:[o,O]},r.a.createElement(w,null)),r.a.createElement(E.a.View,{style:[n,R]},r.a.createElement(p,{suit:i.suit,value:i.value}))))};return r.a.createElement(E.a.View,{style:[{position:"absolute",left:s.x,top:s.y},j]},r.a.createElement(W,null))})),O=Object(l.b)((function(e){return{game:e.game}}),{})((function(e){var t=e.game.unitWidth,a=1.7*t,i=e.game.bufferLeft,o=e.game.playerStack,l=e.game.computerStack,c=Object(n.useState)(""),u=Object(b.a)(c,2),s=u[0],p=u[1],E=Object(n.useState)(""),v=Object(b.a)(E,2),w=v[0],O=v[1],R=Object(n.useState)(0),T=Object(b.a)(R,2),W=T[0],F=T[1],I=Object(n.useState)(C(o.length)),B=Object(b.a)(I,2),z=B[0],A=B[1],G=Object(n.useState)(C(l.length)),P=Object(b.a)(G,2),X=P[0],L=P[1],N={x:4.75*t,y:2.3*a},q={x:3.25*t,y:2.3*a},H={x:.25*t,y:2.3*a},Y={x:1.75*t,y:2.3*a},M=Object(n.useState)(o.map((function(e){return r.a.createRef()}))),D=Object(b.a)(M,1)[0],_=Object(n.useState)(l.map((function(e){return r.a.createRef()}))),J=Object(b.a)(_,1)[0],K=function(e){O(o[e]);var t=Object(d.a)(z);t[e]=!0,A(t);var a=function(e){var t;switch(e){case 14:t=13;break;case 13:t=11;break;case 12:t=10;break;case 11:t=8;break;case 10:t=7;break;case 9:t=6;break;case 8:t=4;break;case 7:t=3;break;case 6:t=2;break;case 5:t=1;break;default:t=-1}return t}(e);-1!==a&&D[a].current.performAction({move:!1,flip:!0})};return r.a.createElement(m.a,null,r.a.createElement(m.a,{style:{position:"absolute",left:i+1.75*t,top:2.3*1.7*t,width:2.5*t,height:a}},r.a.createElement(h,{topmostLeft:s,topmostRight:w,unitWidth:t})),o.map((function(e,a){return r.a.createElement(j,{key:a,index:a,unitWidth:t,origo:N,ref:D[a],card:e,bufferLeft:i,isNull:z[a],topmostGamingRight:w,updateRightGamingPack:K})})),l.map((function(e,a){return r.a.createElement(x,{key:a,index:a,unitWidth:t,origo:H,ref:J[a],card:e,bufferLeft:i,isNull:X[a]})})),r.a.createElement(m.a,{style:{flexDirection:"row"}},r.a.createElement(m.a,{style:[V.buttonContainer,{position:"absolute",top:5.6*a}]},r.a.createElement(y.a,{onPress:function(){for(var e=function(e,t,a){for(var n=[],r=0;r<e;r++)if(r<15){var i=k(r,t,a),o=S(r,e);n.push(Object(g.a)({},i,{move:!0,flip:o,delay:!0}))}return n}(o.length,t,i),a=o.length>15?15:o.length,n=0;n<a;n++)D[n].current.performAction(e[n])},style:[V.buttonView]},r.a.createElement(f.a,{style:[V.buttonText,{fontSize:a/6}]},"1"))),r.a.createElement(m.a,{style:[V.buttonContainer,{position:"absolute",left:75,top:5.6*a}]},r.a.createElement(y.a,{onPress:function(){var e=15+W,t=!1;o.length>e&&(D[e].current.performAction(Object(g.a)({},q,{move:!0,flip:!0,delay:!1})),t=!0),l.length>e&&(J[e].current.performAction(Object(g.a)({},Y,{move:!0,flip:!0,delay:!1})),t=!0),o.length>e&&setTimeout((function(){O(o[e]);var t=Object(d.a)(z);t[e]=!0,A(t)}),1600),l.length>e&&setTimeout((function(){p(l[e]);var t=Object(d.a)(X);t[e]=!0,L(t)}),1600),t&&setTimeout((function(){F(W+1)}),1700)},style:[V.buttonView]},r.a.createElement(f.a,{style:[V.buttonText,{fontSize:a/6}]},"2")))))})),V=s.a.create({buttonContainer:{alignItems:"center"},buttonView:{backgroundColor:"#B9CC3F",padding:10,borderRadius:8},buttonText:{color:"green",fontFamily:"Arial"}}),R=s.a.create({container:{alignItems:"center",marginTop:50},questionText:{color:"#B9CC3F",fontFamily:"Arial",fontWeight:"bold"},buttonView:{backgroundColor:"#B9CC3F",padding:10,borderRadius:8},buttonText:{color:"green",fontFamily:"Arial"}}),T=function(e){var t=e.start,a=e.unitHeight,n=new E.a.Value(1),i={opacity:n};return r.a.createElement(m.a,null,r.a.createElement(E.a.View,{style:i},r.a.createElement(m.a,{style:R.container},r.a.createElement(f.a,{style:[R.questionText,{fontSize:a/5}]},"feel like playing?"),r.a.createElement(y.a,{onPress:function(){E.a.timing(n,{toValue:0,duration:1e3}).start(),setTimeout((function(){t()}),1e3)},style:[R.buttonView,{marginTop:a/3}]},r.a.createElement(f.a,{style:[R.buttonText,{fontSize:a/6}]},"setup a new game")))))},W=function(e){var t=e.value,a=e.dotViewWidth,n={width:a,height:1.4*a,justifyContent:"center",alignItems:"center"},i={width:4,height:4,opacity:t>=e.dotNumber?1:.2,backgroundColor:"#B9CC3F",borderRadius:3};return r.a.createElement(m.a,{style:n},r.a.createElement(m.a,{style:i}))},F=function(e){var t=e.value,a=e.dotNumber,n=e.dotViewWidth,i=e.handleSelectionChanged,o={width:n,height:1.4*n,justifyContent:"center",alignItems:"center",borderWidth:1.5,opacity:t>=a?1:.2,borderColor:"#B9CC3F",borderRadius:n};return r.a.createElement(y.a,{onPress:function(){return i(a)}},r.a.createElement(m.a,{style:o},r.a.createElement(m.a,{style:{width:4,height:4,backgroundColor:"#B9CC3F",borderRadius:2}})))},I=s.a.create({container:{alignItems:"center",marginBottom:50},instructionText:{color:"#B9CC3F",fontFamily:"Arial",fontWeight:"bold",marginBottom:15},dotSliderView:{flexDirection:"row",alignItems:"center"}}),B=r.a.forwardRef((function(e,t){var a="skill"===e.item?"select opponent skill level":"select opponent speed",i=e.unitWidth,o=1.7*i,l=e.number,c=6*i/30,u=Object(n.useState)(1),s=Object(b.a)(u,2),d=s[0],g=s[1],y=function(e){var t,a=d,n=Math.max(e-d,d-e);d<e?t=setInterval((function(){a<e&&(a++,g(a))}),180/n):d>e&&(t=setInterval((function(){e<a&&(a--,g(a))}),180/n)),setTimeout((function(){clearInterval(t)}),180*n)},p=function(){return(d-1)/6+1};Object(n.useImperativeHandle)(t,(function(){return{getSelectedValue:p}}));return r.a.createElement(m.a,{style:I.container},r.a.createElement(f.a,{style:[I.instructionText,{fontSize:o/5}]},a),r.a.createElement(m.a,{style:I.dotSliderView},function(){for(var e=[],t=1;t<=6*l+1;t++)(t-1)%6!==0?e.push(r.a.createElement(W,{key:t,value:d,dotViewWidth:c,dotNumber:t})):e.push(r.a.createElement(F,{key:t,value:d,dotViewWidth:c,handleSelectionChanged:y,dotNumber:t}));return e}()))})),z=a(82),A=a(80),G=a.n(A),P=function(){return r.a.createElement(z.a,{style:{flex:1,borderRadius:7},source:G.a})},X=function(e){var t=e.displayColor,a=e.number,n=e.selectStack,i=e.unitWidth,o={width:1.5*i,height:1.7*i*1.3,borderRadius:9.1,borderWidth:1.3,justifyContent:"center",alignItems:"center"};return r.a.createElement(y.a,{onPress:function(){return n(a)}},r.a.createElement(m.a,{style:[o,t]},r.a.createElement(m.a,{style:{width:i,height:1.7*i,borderRadius:7}},r.a.createElement(P,null))))},L=s.a.create({container:{alignItems:"center",marginBottom:50},instructionText:{color:"#B9CC3F",fontFamily:"Arial",fontWeight:"bold",marginBottom:15}}),N=r.a.forwardRef((function(e,t){var a=e.unitWidth,i=1.7*a,o=Object(n.useState)(0),l=Object(b.a)(o,2),c=l[0],u=l[1],s=function(e){u(e)},d=function(){return{player:c,computer:0===c?1:0}};Object(n.useImperativeHandle)(t,(function(){return{getSelectedStack:d}}));var g=0===c?{borderColor:"#B9CC3F"}:{borderColor:"green"},y=1===c?{borderColor:"#B9CC3F"}:{borderColor:"green"};return r.a.createElement(m.a,{style:L.container},r.a.createElement(f.a,{style:[L.instructionText,{fontSize:i/5}]},"select your stack of cards"),r.a.createElement(m.a,{style:{flexDirection:"row"}},r.a.createElement(X,{displayColor:g,number:0,selectStack:s,unitWidth:a}),r.a.createElement(m.a,{style:{width:30}}),r.a.createElement(X,{displayColor:y,number:1,selectStack:s,unitWidth:a})))})),q={isOn:!1},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GAME_SETTINGS":return t.data;default:return e}},Y=a(81),M=a.n(Y),D=s.a.create({container:{alignItems:"center",marginTop:50},questionText:{color:"#B9CC3F",fontFamily:"Arial",fontWeight:"bold"},buttonView:{backgroundColor:"#B9CC3F",padding:10,borderRadius:8},buttonText:{color:"green",fontFamily:"Arial"}}),_={setGameSettings:function(e){return{type:"SET_GAME_SETTINGS",data:e}}},J=Object(l.b)((function(e){return{game:e.game}}),_)((function(e){var t=Object(n.useState)(!1),a=Object(b.a)(t,2),i=a[0],o=a[1],l=e.unitHeight,c=e.unitWidth,u=e.bufferLeft,s=new E.a.Value(1),d={opacity:s},g=r.a.createRef(),p=r.a.createRef(),h=r.a.createRef();return r.a.createElement(E.a.View,{style:d},i?r.a.createElement(m.a,{style:D.container},r.a.createElement(B,{item:"skill",unitWidth:c,number:2,ref:g}),r.a.createElement(B,{item:"speed",unitWidth:c,number:4,ref:p}),r.a.createElement(N,{unitWidth:c,ref:h}),r.a.createElement(y.a,{onPress:function(){E.a.timing(s,{toValue:0,duration:1e3}).start();var t=function(){for(var e=[],t=1;t<5;t++)for(var a=1;a<14;a++)e.push({suit:t,value:a});var n=M()(e);return[n.slice(0,26),n.slice(26)]}();setTimeout((function(){e.setGameSettings({skill:g.current.getSelectedValue(),speed:p.current.getSelectedValue(),playerStack:t[h.current.getSelectedStack().player],computerStack:t[h.current.getSelectedStack().computer],isOn:!0,unitWidth:c,bufferLeft:u})}),1e3)},style:D.buttonView},r.a.createElement(f.a,{style:[D.buttonText,{fontSize:l/6}]},"save settings"))):r.a.createElement(T,{start:function(){o(!0)},unitHeight:l}))})),K=Object(l.b)((function(e){return{game:e.game}}),{})((function(e){var t=u.a.get("window").width,a=u.a.get("window").height,n=Math.min(t/6,a/(6.6*1.7)),i=1.7*n,o=(t-6*n)/2,l=s.a.create({screen:{backgroundColor:"green",alignItems:"center",width:t,height:a},appContainer:{width:6*n,height:6.6*i,backgroundColor:"green"},titleView:{height:i/2,alignItems:"center"},titleText:{fontSize:i/3.75,fontWeigth:"bold",color:"#B9CC3F",fontFamily:"Arial Black"},infoText:{fontSize:i/9,color:"#B9CC3F",fontFamily:"Arial"}}),c=function(){return r.a.createElement(m.a,{style:l.titleView},r.a.createElement(f.a,{style:l.titleText},"nopsa"),r.a.createElement(f.a,{style:l.infoText},"a card game for those with skill, speed and luck"))};return r.a.createElement(m.a,null,r.a.createElement(m.a,{style:l.screen},r.a.createElement(m.a,{style:l.appContainer},r.a.createElement(c,null),e.game.isOn?r.a.createElement(O,null):r.a.createElement(J,{unitWidth:n,unitHeight:i,bufferLeft:o}))))})),Q=Object(c.b)({game:H}),U=Object(c.c)(Q),Z=function(){return r.a.createElement(l.a,{store:U},r.a.createElement(K,null))};o.a.render(r.a.createElement(Z,null),document.getElementById("root"))},80:function(e,t,a){e.exports=a.p+"static/media/kukat.9a1d9e25.jpg"},83:function(e,t,a){e.exports=a(103)}},[[83,1,2]]]);
//# sourceMappingURL=main.18182ab9.chunk.js.map